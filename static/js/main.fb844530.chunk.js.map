{"version":3,"sources":["reportWebVitals.js","components/header.jsx","helpers/helpers.js","components/allowance.jsx","components/allowances.jsx","App.js","index.js","helpers/ABI.js","helpers/dapps.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","header","revokeAll","buttons","document","getElementsByName","click","className","id","href","target","alt","src","width","height","hidden","onClick","this","Component","Web3","require","web3","givenProvider","request","approvalHash","unlimitedAllowance","ERC20ABI","ERC721ABI","getQuery","chainId","address","getApproveTransactions","query","a","get","data","approveTransactions","dataObj","JSON","parse","text","result","console","log","tx","input","includes","approveObj","contract","utils","toChecksumAddress","to","approved","substring","allowance","allowanceUnEdited","parseInt","push","filter","val","getName","contractAddress","eth","Contract","methods","name","call","error","tokenId","ownerOf","props","setRevokeClick","bind","dappURL","url","Object","keys","dapps","key","contractName","toLowerCase","is721","approve","send","from","account","receipt","stringify","catch","err","dappUrl","window","open","etherscanURL","approvedName","getDappButton","allowances","state","txs","undefined","getElementById","init","obj","setState","innerText","requestAccounts","accounts","ethereum","enable","getChainId","index","elements","map","App","ReactDOM","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.fb844530.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { Component } from 'react';\nimport '../App.css';\n\nclass header extends Component {\n\n    revokeAll = () => {\n        let buttons = document.getElementsByName('revoke');\n        for(let button of buttons) {\n            button.click();\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"jumbotron\">\n                    <div id=\"titles\">\n                        <h1>ETH Allowance</h1>\n                        <h2>Find & revoke all the addresses that can spend your tokens</h2>\n                    </div>\n                </div>\n                <div id=\"gh\">\n                    <a href=\"https://github.com/James-Sangalli/eth-allowance\" target=\"_blank\">\n                        <img alt=\"GitHub\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/2048px-Octicons-mark-github.svg.png\" width=\"40\" height=\"40\"/>\n                    </a>\n                </div>\n                <h3 id=\"loading\" hidden>Loading, please wait...</h3>\n                <div id=\"results\">\n                    <div className=\"grid-container\">\n                        <div className=\"grid-item\">Contract</div>\n                        <div className=\"grid-item\">Approved Address</div>\n                        <div className=\"grid-item\">Allowance</div>\n                        <div className=\"grid-item\">Action</div>\n                    </div>\n                    <div id=\"revokeAll\" hidden>\n                        <div className=\"grid-container\">\n                            <div className=\"grid-items\">ALL</div>\n                            <div className=\"grid-items\">ALL</div>\n                            <div className=\"grid-items\">ALL</div>\n                            <div className=\"grid-items\">\n                                <button className=\"btn btn-danger\" onClick={ this.revokeAll }> Revoke All Allowances</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default header;\n","let Web3 = require('web3');\nlet web3 = new Web3(Web3.givenProvider);\nlet request = require('superagent');\nconst approvalHash = \"0x095ea7b3\";\nconst unlimitedAllowance = \"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\";\nconst { ERC20ABI, ERC721ABI } = require(\"./ABI.js\");\n\nexport function getQuery(chainId, address) {\n    switch (chainId) {\n        case 1:\n            return \"https://api.etherscan.io/api?module=account&action=txlist&address=\" + address;\n        case 3:\n            return \"https://ropsten.etherscan.io/api?module=account&action=txlist&address=\" + address;\n        case 4:\n            return \"https://rinkeby.etherscan.io/api?module=account&action=txlist&address=\" + address;\n        case 42:\n            return \"https://kovan.etherscan.io/api?module=account&action=txlist&address=\" + address;\n        default:\n            return \"\";\n    }\n}\n\nexport function getEtherScanPage(chainId) {\n    switch (chainId) {\n        case 1:\n            return \"https://etherscan.io/address/\";\n        case 3:\n            return \"https://ropsten.etherscan.io/address/\";\n        case 4:\n            return \"https://rinkeby.etherscan.io/address/\";\n        case 42:\n            return \"https://kovan.etherscan.io/address/\";\n        default:\n            return \"\";\n    }\n}\n\nexport async function getApproveTransactions(query) {\n    try {\n        let data = await request.get(query);\n        let approveTransactions = [];\n        let dataObj = JSON.parse(data.text).result;\n        console.log(\"etherscan api return \", dataObj);\n        for(let tx of dataObj) {\n            if(tx.input.includes(approvalHash)) {\n                console.log(\"found approve transaction\")\n                let approveObj = {};\n                approveObj.contract = web3.utils.toChecksumAddress(tx.to);\n                approveObj.approved = web3.utils.toChecksumAddress(\"0x\" + tx.input.substring(34, 74));\n                let allowance = tx.input.substring(74);\n                if(allowance.includes(unlimitedAllowance)) {\n                    approveObj.allowance = \"unlimited\";\n                } else {\n                    approveObj.allowance = \"some\";\n                    approveObj.allowanceUnEdited = allowance;\n                }\n                if(parseInt(allowance, 16) !== 0) {\n                    approveTransactions.push(approveObj);\n                } else {\n                    // TODO clean up\n                    // Remove all previous additions of this approval transaction as it is now cleared up\n                    approveTransactions = approveTransactions.filter((val) => {\n                        return !(val.approved === approveObj.approved && val.contract === val.contract);\n                    });\n                }\n            }\n        }\n        return approveTransactions;\n    } catch (e) {\n        throw e;\n    }\n}\n\nexport async function getName(contractAddress) {\n    try {\n        let contract = new web3.eth.Contract(ERC20ABI, contractAddress);\n        return await contract.methods.name().call();\n    } catch(e) {\n        // name not found, just use contract address\n        console.error(e);\n        return contractAddress;\n    }\n}\n\nexport async function is721(contractAddress, tokenId) {\n    let contract = new web3.eth.Contract(ERC721ABI, contractAddress);\n    try {\n        const _ = await contract.methods.ownerOf(tokenId).call();\n        return true; // if this call passes, it must be ERC721\n    } catch (e) {\n        // method doesn't exist, can't be 721\n        return false;\n    }\n}\n","import React, { Component } from 'react';\nimport { is721 } from \"../helpers/helpers\";\nimport dapps from \"../helpers/dapps\";\nimport { ERC20ABI } from \"../helpers/ABI\";\n\nclass allowance extends Component {\n\n    constructor(props) {\n        super(props);\n        this.props = props;\n        this.setRevokeClick = this.setRevokeClick.bind(this);\n        this.dappURL= this.dappURL.bind(this);\n    }\n\n    dappURL() {\n        const dappsKeys = Object.keys(dapps);\n        let url = \"\";\n        for(let key of dappsKeys) {\n            if(this.props.tx.contractName.toLowerCase().includes(key)) {\n                url = dapps[key];\n            }\n        }\n        return url;\n    }\n\n    setRevokeClick() {\n        // set the contract and make an approve transaction with a zero allowance\n        const { web3 } = this.props;\n        const contract = new web3.eth.Contract(ERC20ABI, this.props.tx.contract);\n        is721(contract, this.props.tx.allowanceUnEdited).then((result) => {\n            if(result) {\n                //revoke erc721 by nulling the address\n                contract.methods.approve(0, this.props.tx.allowanceUnEdited).send({ from: this.props.account }).then((receipt) => {\n                    console.log(\"revoked: \" + JSON.stringify(receipt));\n                }).catch((err) => {\n                    console.log(\"failed: \" + JSON.stringify(err));\n                });\n            } else {\n                // revoke erc20 by nulling approval amount\n                contract.methods.approve(this.props.tx.approved, 0).send({ from: this.props.account }).then((receipt) => {\n                    console.log(\"revoked: \" + JSON.stringify(receipt));\n                }).catch((err) => {\n                    console.log(err)\n                    console.log(\"failed: \" + JSON.stringify(err));\n                });\n            }\n        });\n    }\n\n    getDappButton() {\n        const dappUrl = this.dappURL();\n        if(dappUrl !== \"\") {\n            return <button className=\"btn btn-primary\" onClick={() => { window.open(dappUrl) } } id={this.props.id}> Visit dApp</button>;\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"grid-container\">\n                    <div className=\"grid-items\"><a href={this.props.tx.etherscanURL + this.props.tx.contract}>{this.props.tx.contractName}</a></div>\n                    <div className=\"grid-items\"><a href={this.props.tx.etherscanURL + this.props.tx.approved}>{this.props.tx.approvedName}</a></div>\n                    <div className=\"grid-items\">{this.props.tx.allowance}</div>\n                    <div className=\"grid-items\">\n                        <button className=\"btn btn-danger\" name=\"revoke\" onClick={() => { this.setRevokeClick() } }> Revoke</button>\n                        {this.getDappButton()}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default allowance;\n","import React, { Component } from 'react';\nimport { getQuery, getApproveTransactions, getName } from \"../helpers/helpers\";\nimport Allowance from \"./allowance\";\n\nclass allowances extends Component {\n\n    state = {\n        txs: undefined,\n        account: undefined\n    };\n\n    constructor(props) {\n        super(props);\n        this.props = props;\n    }\n\n    componentDidMount() {\n        document.getElementById(\"loading\").hidden = false;\n        this.init().then((obj) => {\n            this.setState(obj);\n            document.getElementById(\"loading\").hidden = true;\n            document.getElementById(\"revokeAll\").hidden = false;\n        }).catch((err) => {\n            document.getElementById(\"loading\").innerText = err;\n        });\n    }\n\n    async init() {\n        let account = null;\n        try {\n            try {\n                const accounts = await this.props.web3.eth.requestAccounts();\n                account = accounts[0];\n            } catch (e) {\n                const accounts = await window.ethereum.enable();\n                account = accounts[0];\n            }\n            console.log(account);\n            const chainId = await this.props.web3.eth.getChainId();\n            const query = getQuery(chainId, account);\n            console.log(query)\n            const txs = await getApproveTransactions(query);\n            for(const index in txs) {\n                txs[index].contractName = await getName(txs[index].contract);\n                txs[index].approvedName = await getName(txs[index].approved);\n            }\n            return {\n                txs: txs,\n                account: account\n            };\n        } catch (e) {\n            document.getElementById(\"loading\").hidden = false;\n            document.getElementById(\"loading\").innerText = e;\n        }\n    }\n\n    render() {\n        let elements = \"\";\n        console.log(\"txs: \", this.state.txs)\n        if(this.state.txs !== undefined) {\n            elements = this.state.txs.map((tx) => {\n                return <Allowance tx={tx} web3={this.props.web3} id={tx.contract} account={this.state.account}/>\n            });\n        }\n        return (\n            <div>\n                {elements}\n            </div>\n        )\n    }\n}\n\nexport default allowances;\n","import Web3 from \"web3\";\nimport Header from \"./components/header\";\nimport Allowances from \"./components/allowances\";\nimport React from \"react\";\nconst web3 = new Web3(Web3.givenProvider);\n\nfunction App() {\n    return (\n        <div>\n            <Header />\n            <Allowances web3={web3}/>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport \"./App.css\"\nimport App from \"./App.js\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const ERC20ABI = [\n    {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"string\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": false,\n        \"inputs\": [\n            {\n                \"name\": \"_spender\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"approve\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"totalSupply\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": false,\n        \"inputs\": [\n            {\n                \"name\": \"_from\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_to\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"transferFrom\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"decimals\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"uint8\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [\n            {\n                \"name\": \"_owner\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"balanceOf\",\n        \"outputs\": [\n            {\n                \"name\": \"balance\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [],\n        \"name\": \"symbol\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"string\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": false,\n        \"inputs\": [\n            {\n                \"name\": \"_to\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"transfer\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"constant\": true,\n        \"inputs\": [\n            {\n                \"name\": \"_owner\",\n                \"type\": \"address\"\n            },\n            {\n                \"name\": \"_spender\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"allowance\",\n        \"outputs\": [\n            {\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"payable\": false,\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"payable\": true,\n        \"stateMutability\": \"payable\",\n        \"type\": \"fallback\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"name\": \"owner\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": true,\n                \"name\": \"spender\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"Approval\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"name\": \"from\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": true,\n                \"name\": \"to\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"Transfer\",\n        \"type\": \"event\"\n    }\n];\n\nconst ERC721ABI = [{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"_name\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"name\":\"_approved\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"implementsERC721\",\"outputs\":[{\"name\":\"_implementsERC721\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"_totalSupply\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"tokenOfOwnerByIndex\",\"outputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"tokenMetadata\",\"outputs\":[{\"name\":\"_infoUrl\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"_balance\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"name\":\"_approvedAddress\",\"type\":\"address\"},{\"name\":\"_metadata\",\"type\":\"string\"}],\"name\":\"mint\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"_symbol\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"numTokensTotal\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"getOwnerTokens\",\"outputs\":[{\"name\":\"_tokenIds\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Mint\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_approved\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"}];\n\nmodule.exports = { ERC20ABI, ERC721ABI }\n","module.exports = {\n    \"compound\": \"https://app.compound.finance/#\",\n    \"aave\": \"https://aave.com/\",\n    \"uniswap\": \"https://uniswap.org/\",\n    \"nest\": \"https://nestdapp.io/\",\n    \"cofi\": \"https://cofix.io/\"\n}\n"],"sourceRoot":""}